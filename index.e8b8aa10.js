const t=document.querySelector(".list"),e=document.querySelector(".modal__film-card"),n=document.body,i=document.querySelector(".modal__close"),a=document.querySelector(".backdrop");function s(t){n.classList.remove("show-modal"),e.innerHTML="",window.removeEventListener("keydown",o)}function o(t){"Escape"===t.code&&s()}console.log(n),async function(){const t=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=c65b1581ed69fd3b6701ed620730aaec");if(!t.ok)throw new Error;return await t.json()}().then((e=>{!function(e){const n=e.results.map((t=>{const e=t.original_title;return`<li class="film-item"> <img class="movie__poster" src="https://image.tmdb.org/t/p/original/${t.poster_path}" height="574px" width="395px" alt="">\n    <div class="movie__information"><h2 class="movie__title"> ${e.toUpperCase()}</h2></div>\n    <div class="movie__genres">\n     <div class="movie__genres-list"> <p >${t.genre_ids}</p>  </div>\n    \n    <span class="movie__year"> ${Number.parseInt(t.release_date)}\n    </span>\n    <div class="id" hidden> ${t.id} </div>\n    </div>\n</li>`})).join("");t.insertAdjacentHTML("beforeend",n)}(e),console.log(e)})).catch((t=>{console.log(t.statusText)})),t.addEventListener("click",(function(t){const i=t.target.closest(".film-item");if(t.target===t.currentTarget)return void console.log("not film card");console.log(i);const a=i.querySelector(".id").textContent;console.log(a),async function(t){const e=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=c65b1581ed69fd3b6701ed620730aaec`);if(!e.ok)throw new Error;return await e.json()}(a).then((t=>{console.log(t),n.classList.add("show-modal"),window.addEventListener("keydown",o),function(t){const n=`<img class="modal__card-img img" src="https://image.tmdb.org/t/p/original/${t.poster_path}" alt="${t.original_title}" \n        width="375" height="478"> \n      <div class="modal__card"> \n        <h3 class="modal__card-title">${t.title}</h3> \n        <ul class="modal__card-list list"> \n          <li class="card__item"> \n            <h4 class="card__item-title">Vote / Votes</h4> \n            <p class="card__item-vote">${t.vote_average}</p> \n            <span class="card__item-slash">/</span> \n            <p class="card__item-votes">${t.vote_count}</p> \n \n          <li class="card__item"> \n            <h4 class="card__item-title">Popularity</h4> \n            <p class="card__item-popularity">${t.popularity}</p> \n          </li> \n          <li class="card__item"> \n            <h4 class="card__item-title">Original Title</h4> \n            <p class="card__item-original">${t.original_title}</p> \n          </li> \n          <li class="card__item"> \n            <h4 class="card__item-title">Genre</h4> \n            <p class="card__item-genre">${t.genres.map((t=>t.name))}</p> \n          </li> \n        </ul> \n        <h4 class="card__item-about">About</h4> \n        <p class="card__item-about__text card__item-text">${t.overview}</p> \n \n        <ul class="card__btn-list list"> \n          <li class="card__btn-item"> \n            <button class="card__btn">add to Watched</button> \n          </li> \n          <li class="card__btn-item"> \n            <button class="card__btn">add to queue</button> \n          </li> \n        </ul> \n      </div> `;e.insertAdjacentHTML("beforeend",n)}(t)}))})),i.addEventListener("click",s),a.addEventListener("click",(function(t){t.currentTarget===t.target&&s()}));
//# sourceMappingURL=index.e8b8aa10.js.map
