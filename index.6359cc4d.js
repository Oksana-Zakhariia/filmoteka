const t=document.querySelector(".list"),e=document.querySelector(".modal__film-card"),n=document.body,i=document.querySelector(".modal__close"),o=document.querySelector(".backdrop");function s(t){n.classList.remove("show-modal"),e.innerHTML="",window.removeEventListener("keydown",a)}function a(t){"Escape"===t.code&&s()}console.log(n),async function(){const t=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=c65b1581ed69fd3b6701ed620730aaec");if(!t.ok)throw new Error;return await t.json()}().then((e=>{!function(e){const n=e.results.map((t=>{const e=t.original_title;return`<li class="film-item"> <img class="movie__poster" src="https://image.tmdb.org/t/p/original/${t.poster_path}" height="574px" width="395px" alt="">\n    <div class="movie__information"><h2 class="movie__title"> ${e.toUpperCase()}</h2></div>\n    <div class="movie__genres">\n     <div class="movie__genres-list"> <p >${t.genre_ids}</p>  </div>\n    \n    <span class="movie__year"> ${Number.parseInt(t.release_date)}\n    </span>\n    <div class="id" hidden> ${t.id} </div>\n    </div>\n</li>`})).join("");t.insertAdjacentHTML("beforeend",n)}(e),console.log(e)})).catch((t=>{console.log(t.statusText)})),t.addEventListener("click",(function(t){const i=t.target.closest(".film-item");if(t.target===t.currentTarget)return void console.log("not film card");console.log(i);const o=i.querySelector(".id").textContent;console.log(o),async function(t){const e=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=c65b1581ed69fd3b6701ed620730aaec`);if(!e.ok)throw new Error;return await e.json()}(o).then((t=>{n.classList.add("show-modal"),window.addEventListener("keydown",a),function(t){const n=`<img src="https://image.tmdb.org/t/p/original/${t.poster_path}\n" alt="${t.original_title}" width="375px" height="478px">\n    <div class="modal__info">\n    <h1 class="modal__title"> ${t.title} </h1>\n    <ul class="modal__statistic-list">\n    <li class="modal__statistic-item"> Vote / Votes <span>${t.vote_average}/ ${t.vote_count}</span></li>\n    <li class="modal__statistic-item"> Popularity <span>${t.popularity}</span></li>\n    <li class="modal__statistic-item">Original Title <span>${t.original_title}</span></li>\n    <li class="modal__statistic-item">Genre <span>${t.genres.map((t=>t.name))}</span></li>\n    </ul>\n    <h2 class="modal__subtitle">ABOUT</h2>\n    <p class="modal__text">${t.overview}</p>\n    <button class="modal__adding-button"> ADD TO WATCHED </button>\n    <button class="modal__queue-button"> ADD TO QUEUE</button>    \n   \n    </div> `;e.insertAdjacentHTML("beforeend",n)}(t)}))})),i.addEventListener("click",s),o.addEventListener("click",(function(t){t.currentTarget===t.target&&s()}));
//# sourceMappingURL=index.6359cc4d.js.map
