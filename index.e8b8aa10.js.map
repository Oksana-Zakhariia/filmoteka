{"mappings":"AAAA,MAEMA,EAAOC,SAASC,cAAc,SAC9BC,EAAQF,SAASC,cAAc,qBAC/BE,EAAOH,SAASI,KAChBC,EAAgBL,SAASC,cAAc,iBACvCK,EAAUN,SAASC,cAAc,aAyGvC,SAASM,EAAaC,GAClBL,EAAKM,UAAUC,OAAO,cACtBR,EAAMS,UAAY,GAClBC,OAAOC,oBAAoB,UAAWC,E,CAQ1C,SAASA,EAAcN,GACA,WAAfA,EAAMO,MACNR,G,CArHRS,QAAQC,IAAId,GAIZe,iBACG,MAAMC,QAAiBC,MAAM,4FAC5B,IAAKD,EAASE,GACV,MAAM,IAAIC,MAEd,aAAaH,EAASI,M,CAE1BC,GAAYC,MAAKC,KAKjB,SAAsBA,GAClB,MAAMC,EAASD,EAAKE,QAAQC,KAAKC,IAC7B,MAAMC,EAAOD,EAAKE,eAClB,MAAO,8FAA8FF,EAAKG,oHAClDF,EAAKG,wGAEzBJ,EAAKK,+DAEhBC,OAAOC,SAASP,EAAKQ,2DAExBR,EAAKS,8BAE7B,IACCC,KAAK,IACRzC,EAAK0C,mBAAmB,YAAad,E,CAnBde,CAAahB,GACpCV,QAAQC,IAAIS,EAAK,IAClBiB,OAAMC,IACL5B,QAAQC,IAAI2B,EAAMC,WAAW,IAkBjC9C,EAAK+C,iBAAiB,SAEtB,SAAqBtC,GAEjB,MAAMuC,EAAWvC,EAAMwC,OAAOC,QAAQ,cACrC,GAAIzC,EAAMwC,SAAWxC,EAAM0C,cAGxB,YADAlC,QAAQC,IAAI,iBAGhBD,QAAQC,IAAI8B,GACZ,MAAMI,EAASJ,EAAS9C,cAAc,OAAOmD,YAC7CpC,QAAQC,IAAIkC,GAUfjC,eAA+BiC,GAC5B,MAAMhC,QAAiBC,MAAM,sCAAsC+B,8CAC/D,IAAKhC,EAASE,GACd,MAAM,IAAIC,MAEd,aAAaH,EAASI,M,CAbtB8B,CAAgBF,GAAQ1B,MAAMC,IAC1BV,QAAQC,IAAIS,GACZvB,EAAKM,UAAU6C,IAAI,cACnB1C,OAAOkC,iBAAiB,UAAWhC,GAY3C,SAA6BY,GACzB,MAAMC,EAAS,6EAA6ED,EAAKO,qBAAqBP,EAAKM,iIAGvFN,EAAK6B,qMAIJ7B,EAAK8B,oHAEJ9B,EAAK+B,mKAIA/B,EAAKgC,oLAIPhC,EAAKM,4KAKRN,EAAKiC,OAAO9B,KAAKC,GAAkBA,EAAW,8JAI5BJ,EAAKkC,+UAY7D1D,EAAMuC,mBAAmB,YAAad,E,CAlDlCkC,CAAoBnC,EAAK,G,IAqDjCrB,EAAcyC,iBAAiB,QAASvC,GAMxCD,EAASwC,iBAAiB,SACzB,SAAyBtC,GACjBA,EAAM0C,gBAAkB1C,EAAMwC,QAC9BzC,G","sources":["src/index.js"],"sourcesContent":["const API_KEY = 'c65b1581ed69fd3b6701ed620730aaec'\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/day'\nconst list = document.querySelector('.list');\nconst modal = document.querySelector('.modal__film-card')\nconst body = document.body\nconst modalCloseBtn = document.querySelector('.modal__close')\nconst backdrop= document.querySelector('.backdrop')\nconsole.log(body);\n\n\n// https://api.themoviedb.org/3/trending/movie/day?api_key=c65b1581ed69fd3b6701ed620730aaec\nasync function moviesApi() {\n   const response = await fetch(`${BASE_URL}?api_key=${API_KEY}`)\n    if (!response.ok) {\n        throw new Error\n    }\n    return await response.json(); \n}\nmoviesApi().then(data => { createMarkup(data)\n    console.log(data)\n}).catch(error => {\n    console.log(error.statusText);\n})\nfunction createMarkup(data) {\n    const markup = data.results.map((item) => {\n        const name = item.original_title\n        return `<li class=\"film-item\"> <img class=\"movie__poster\" src=\"https://image.tmdb.org/t/p/original/${item.poster_path}\" height=\"574px\" width=\"395px\" alt=\"\">\n    <div class=\"movie__information\"><h2 class=\"movie__title\"> ${name.toUpperCase()}</h2></div>\n    <div class=\"movie__genres\">\n     <div class=\"movie__genres-list\"> <p >${item.genre_ids}</p>  </div>\n    \n    <span class=\"movie__year\"> ${Number.parseInt(item.release_date)}\n    </span>\n    <div class=\"id\" hidden> ${item.id} </div>\n    </div>\n</li>`\n    }).join(\"\")\n    list.insertAdjacentHTML('beforeend', markup)\n}\nlist.addEventListener('click', onListClick)\n \nfunction onListClick(event) {\n    \n    const filmCard = event.target.closest('.film-item')\n     if (event.target === event.currentTarget)     \n    {\n        console.log('not film card');\n        return\n    }\n    console.log(filmCard); \n    const filmId = filmCard.querySelector('.id').textContent     \n    console.log(filmId);\n   \n    onFilmCardClick(filmId).then((data) => {\n        console.log(data);\n        body.classList.add('show-modal')\n        window.addEventListener('keydown', onEscKeyPress)\n        createFilmModalCard(data)       \n    })\n    \n}\n async function onFilmCardClick(filmId) {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${filmId}?api_key=${API_KEY}`)\n        if (!response.ok) {\n        throw new Error\n    }\n    return await response.json(); \n}\nfunction createFilmModalCard(data) {\n    const markup = `<img class=\"modal__card-img img\" src=\"https://image.tmdb.org/t/p/original/${data.poster_path}\" alt=\"${data.original_title}\" \n        width=\"375\" height=\"478\"> \n      <div class=\"modal__card\"> \n        <h3 class=\"modal__card-title\">${data.title}</h3> \n        <ul class=\"modal__card-list list\"> \n          <li class=\"card__item\"> \n            <h4 class=\"card__item-title\">Vote / Votes</h4> \n            <p class=\"card__item-vote\">${data.vote_average}</p> \n            <span class=\"card__item-slash\">/</span> \n            <p class=\"card__item-votes\">${data.vote_count}</p> \n \n          <li class=\"card__item\"> \n            <h4 class=\"card__item-title\">Popularity</h4> \n            <p class=\"card__item-popularity\">${data.popularity}</p> \n          </li> \n          <li class=\"card__item\"> \n            <h4 class=\"card__item-title\">Original Title</h4> \n            <p class=\"card__item-original\">${data.original_title\n        }</p> \n          </li> \n          <li class=\"card__item\"> \n            <h4 class=\"card__item-title\">Genre</h4> \n            <p class=\"card__item-genre\">${data.genres.map((item) => { return item['name'] })}</p> \n          </li> \n        </ul> \n        <h4 class=\"card__item-about\">About</h4> \n        <p class=\"card__item-about__text card__item-text\">${data.overview}</p> \n \n        <ul class=\"card__btn-list list\"> \n          <li class=\"card__btn-item\"> \n            <button class=\"card__btn\">add to Watched</button> \n          </li> \n          <li class=\"card__btn-item\"> \n            <button class=\"card__btn\">add to queue</button> \n          </li> \n        </ul> \n      </div> `;\n   \n    modal.insertAdjacentHTML('beforeend', markup)\n}\n\nmodalCloseBtn.addEventListener('click', onCloseModal)\nfunction onCloseModal(event) {\n    body.classList.remove('show-modal')\n    modal.innerHTML = \"\"\n    window.removeEventListener('keydown', onEscKeyPress)\n}\nbackdrop.addEventListener('click', onBackdropClick)\n function onBackdropClick(event){\n     if (event.currentTarget === event.target) {\n         onCloseModal()\n}\n}\nfunction onEscKeyPress(event) {\n    if (event.code === 'Escape') {\n        onCloseModal()\n    }\n    \n}\n\n// const API_KEY = 'fbee7941f117d258bba2ad0706e433a4';\n// const BASE_URL = \"https//api.themoviedb.org/3/\";\n//   const refs = {\n//     list: document.querySelector('list'),\n//     body: document.body, \n//     closeModalBtn: document.querySelector('[data-modal-close]'),\n//     modal: document.querySelector('backdrop__modal'),\n//     backdrop: document.querySelector('backdrop'),\n//     modalCard: document.querySelector('.modal__film-card'),\n//   };\n\n//   refs.list.addEventListener('click', onListClick)\n//   refs.closeModalBtn.addEventListener('click', onCloseModal);\n//   refs.backdrop.addEventListener('click', onBackdropClick);\n\n\n\n\n// function onListClick(event) {   \n//     const filmCard = event.target.closest('.film-item')\n//      if (event.target === event.currentTarget)     \n//     {\n//         console.log('not film card');\n//         return\n//     }\n//     console.log(filmCard); \n//     const filmId = filmCard.querySelector('.id').textContent     \n//     console.log(filmId);\n   \n//     onFilmCardClick(filmId).then((data) => {\n//         refs.body.classList.add('show-modal')\n//         window.addEventListener('keydown', onEscKeyPress)\n//         createFilmModalCard(data)       \n//     })\n    \n// }\n//  async function onFilmCardClick(filmId) {\n//     const response = await fetch(`${BASE_URL}movie/${filmId}?api_key=${API_KEY}`)\n//         if (!response.ok) {\n//         throw new Error\n//     }\n//     return await response.json(); \n// }\n\n// function onBackdropClick(event) {\n//   if (event.currentTarget === event.target) {\n//     onCloseModal()\n//   }\n// };\n// function onCloseModal() {\n//   refs.body.classList.remove('show-modal');\n// };\n\n// function onEscKeyPress(event) {\n//     if (event.code === 'Escape') {\n//         onCloseModal()\n//     }    \n// };\n// function onCloseModal(event) {\n//   refs.body.classList.remove('show-modal');\n//   refs.modalCard.innerHTML = \"\";\n//   window.removeEventListener('keydown', onEscKeyPress);\n// }\n\n// function createFilmModalCard(data) {\n// //     const markup = `<img src=\"https://image.tmdb.org/t/p/original/${data.poster_path}\n// // \" alt=\"${data.original_title}\" width=\"375px\" height=\"478px\">\n// //     <div class=\"modal__info\">\n// //     <h1 class=\"modal__title\"> ${data.title} </h1>\n// //     <ul class=\"modal__statistic-list\">\n// //     <li class=\"modal__statistic-item\"> Vote / Votes <span>${data.vote_average}/ ${data.vote_count}</span></li>\n// //     <li class=\"modal__statistic-item\"> Popularity <span>${data.popularity}</span></li>\n// //     <li class=\"modal__statistic-item\">Original Title <span>${data.original_title}</span></li>\n// //     <li class=\"modal__statistic-item\">Genre <span>${data.genres.map((item)=>{return item['name']})}</span></li>\n// //     </ul>\n// //     <h2 class=\"modal__subtitle\">ABOUT</h2>\n// //     <p class=\"modal__text\">${data.overview}</p>\n// //     <button class=\"modal__adding-button\"> ADD TO WATCHED </button>\n// //     <button class=\"modal__queue-button\"> ADD TO QUEUE</button>    \n   \n// //     </div> `;\n   \n//     refs.modalCard.insertAdjacentHTML('beforeend', markup)\n// }"],"names":["$1f0dc3b9307be026$var$list","document","querySelector","$1f0dc3b9307be026$var$modal","$1f0dc3b9307be026$var$body","body","$1f0dc3b9307be026$var$modalCloseBtn","$1f0dc3b9307be026$var$backdrop","$1f0dc3b9307be026$var$onCloseModal","event","classList","remove","innerHTML","window","removeEventListener","$1f0dc3b9307be026$var$onEscKeyPress","code","console","log","async","response","fetch","ok","Error","json","$1f0dc3b9307be026$var$moviesApi","then","data","markup","results","map","item","name","original_title","poster_path","toUpperCase","genre_ids","Number","parseInt","release_date","id","join","insertAdjacentHTML","$1f0dc3b9307be026$var$createMarkup","catch","error","statusText","addEventListener","filmCard","target","closest","currentTarget","filmId","textContent","$1f0dc3b9307be026$var$onFilmCardClick","add","title","vote_average","vote_count","popularity","genres","overview","$1f0dc3b9307be026$var$createFilmModalCard"],"version":3,"file":"index.e8b8aa10.js.map"}