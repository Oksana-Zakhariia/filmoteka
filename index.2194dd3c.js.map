{"mappings":"AAAA,MAEMA,EAAOC,SAASC,cAAc,SAC9BC,EAAQF,SAASC,cAAc,WAIrCE,iBACG,MAAMC,QAAiBC,MAAM,4FAC5B,IAAKD,EAASE,GACV,MAAM,IAAIC,MAEd,aAAaH,EAASI,M,EAE1BC,GAAYC,MAAKC,KAKjB,SAAsBA,GAClB,MAAMC,EAASD,EAAKE,QAAQC,KAAKC,IAC7B,MAAMC,EAAOD,EAAKE,eAClB,MAAO,4EAA4EF,EAAKG,oHAChCF,EAAKG,wGAEzBJ,EAAKK,+DAEhBC,OAAOC,SAASP,EAAKQ,2DAExBR,EAAKS,8BAE7B,IACCC,KAAK,IACR1B,EAAK2B,mBAAmB,YAAad,E,CAnBde,CAAahB,GACpCiB,QAAQC,IAAIlB,EAAK,IAClBmB,OAAMC,IACLH,QAAQC,IAAIE,EAAMC,WAAW,IAkBjCjC,EAAKkC,iBAAiB,SAEtB,SAAqBC,GAEjB,MAAMC,EAAQD,EAAME,OAAOC,WAAWpC,cAAc,OAAOqC,YAC3DV,QAAQC,IAAIM,GAQfhC,eAA+BgC,GAC5B,MAAM/B,QAAiBC,MAAM,sCAAsC8B,8CAC/D,IAAK/B,EAASE,GACd,MAAM,IAAIC,MAEd,aAAaH,EAASI,M,CAZtB+B,CAAgBJ,GAAQzB,MAAMC,IACzBiB,QAAQC,IAAIlB,GAarB,SAA6BA,GACzB,MAAMC,EAAS,iDAAiDD,EAAKO,uBAChEP,EAAKM,+GAEkBN,EAAK6B,kHAEuB7B,EAAK8B,iBAAiB9B,EAAK+B,mFAC7B/B,EAAKgC,sFACFhC,EAAKM,iFACdN,EAAKiC,OAAO9B,KAAI,EAACE,KAACA,MAAS6B,OAAOC,OAAO9B,EAAK,sGAGrEL,EAAKoC,gKAK9B7C,EAAMwB,mBAAmB,YAAad,E,CA7BlCoC,CAAoBrC,EAAK,G","sources":["src/index.js"],"sourcesContent":["const API_KEY = 'c65b1581ed69fd3b6701ed620730aaec'\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/day'\nconst list = document.querySelector('.list');\nconst modal = document.querySelector('.modal')\n\n\n// https://api.themoviedb.org/3/trending/movie/day?api_key=c65b1581ed69fd3b6701ed620730aaec\nasync function moviesApi() {\n   const response = await fetch(`${BASE_URL}?api_key=${API_KEY}`)\n    if (!response.ok) {\n        throw new Error\n    }\n    return await response.json(); \n}\nmoviesApi().then(data => { createMarkup(data)\n    console.log(data)\n}).catch(error => {\n    console.log(error.statusText);\n})\nfunction createMarkup(data) {\n    const markup = data.results.map((item) => {\n        const name = item.original_title\n        return `<li> <img class=\"movie__poster\" src=\"https://image.tmdb.org/t/p/original/${item.poster_path}\" height=\"574px\" width=\"395px\" alt=\"\">\n    <div class=\"movie__information\"><h2 class=\"movie__title\"> ${name.toUpperCase()}</h2></div>\n    <div class=\"movie__genres\">\n     <div class=\"movie__genres-list\"> <p >${item.genre_ids}</p>  </div>\n    \n    <span class=\"movie__year\"> ${Number.parseInt(item.release_date)}\n    </span>\n    <div class=\"id\" hidden> ${item.id} </div>\n    </div>\n</li>`\n    }).join(\"\")\n    list.insertAdjacentHTML('beforeend', markup)\n}\nlist.addEventListener('click', onListClick)\n \nfunction onListClick(event) {\n   \n    const filmId= event.target.parentNode.querySelector('.id').textContent\n    console.log(filmId);\n    onFilmCardClick(filmId).then((data) => {\n         console.log(data)\n        createFilmModalCard(data)\n       \n    })\n    \n}\n async function onFilmCardClick(filmId) {\n    const response = await fetch(`https://api.themoviedb.org/3/movie/${filmId}?api_key=${API_KEY}`)\n        if (!response.ok) {\n        throw new Error\n    }\n    return await response.json(); \n}\nfunction createFilmModalCard(data) {\n    const markup = `<img src=\"https://image.tmdb.org/t/p/original/${data.poster_path}\n\" alt=\"${data.original_title}\" width=\"375px\" height=\"478px\">\n    <div class=\"modal__info\">\n    <h1 class=\"modal__title\"> ${data.title} </h1>\n    <ul class=\"modal__statistic-list\">\n    <li class=\"modal__statistic-item\"> Vote / Votes <span>${data.vote_average}/ ${data.vote_count}</span></li>\n    <li class=\"modal__statistic-item\"> Popularity <span>${data.popularity}</span></li>\n    <li class=\"modal__statistic-item\">Original Title <span>${data.original_title}</span></li>\n    <li class=\"modal__statistic-item\">Genre <span>${data.genres.map(({name})=>{Object.values(name)})}</span></li>\n    </ul>\n    <h2 class=\"modal__subtitle\">ABOUT</h2>\n    <p class=\"modal__text\">${data.overview}</p>\n    <button class=\"modal__adding-button\"> ADD TO WATCHED </button>\n    <button class=\"modal__queue-button\"> ADD TO QUEUE</button>\n    </div> `;\n   \n    modal.insertAdjacentHTML('beforeend', markup)\n}\n"],"names":["$1f0dc3b9307be026$var$list","document","querySelector","$1f0dc3b9307be026$var$modal","async","response","fetch","ok","Error","json","$1f0dc3b9307be026$var$moviesApi","then","data","markup","results","map","item","name","original_title","poster_path","toUpperCase","genre_ids","Number","parseInt","release_date","id","join","insertAdjacentHTML","$1f0dc3b9307be026$var$createMarkup","console","log","catch","error","statusText","addEventListener","event","filmId","target","parentNode","textContent","$1f0dc3b9307be026$var$onFilmCardClick","title","vote_average","vote_count","popularity","genres","Object","values","overview","$1f0dc3b9307be026$var$createFilmModalCard"],"version":3,"file":"index.2194dd3c.js.map"}